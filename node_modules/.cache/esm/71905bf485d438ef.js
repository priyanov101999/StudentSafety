let PoliceMan,ResponseUtil;_85d‍.x([["createPoliceman",()=>createPoliceman],["updatePoliceman",()=>updatePoliceman],["getPolicemanById",()=>getPolicemanById],["policemanList",()=>policemanList]]);_85d‍.w("../models/PoliceMan.js",[["default",["PoliceMan"],function(v){PoliceMan=v}]]);_85d‍.w("../utils/ResponseUtil.js",[["default",["ResponseUtil"],function(v){ResponseUtil=v}]]);


       const createPoliceman = async (req, res, next) => {
  try {
    let data = req.body;
    _85d‍.g.console.log(data);
    await PoliceMan.query()
      .insert(data)
      .then((data) =>
        ResponseUtil.success(data, 201, `Police Man created successfully`, res)
      );
  } catch (error) {
    ResponseUtil.failure(error.name, error.statusCode, res);
  }
};

       const updatePoliceman = async (req, res, next) => {
  try {
    let data = req.body;
    let id = req.params.id;
    let exists = PoliceMan.query().findById(id);
    if (!exists) {
      ResponseUtil.failure("Police man not found", 404, res);
    } else {
      await PoliceMan.query()
        .upsertGraphAndFetch({ ...data, id })
        .then((data) =>
          ResponseUtil.success(
            data,
            200,
            `Police man updated successfully`,
            res
          )
        );
    }
  } catch (error) {
    ResponseUtil.failure(error.name, error.statusCode, res);
  }
};

       const getPolicemanById = async (req, res, next) => {
  try {
    let id = req.params.id;
    let exists = await PoliceMan.query().findById(id);
    if (!exists) {
      ResponseUtil.failure("Police man not found", 404, res);
    } else {
      ResponseUtil.success(exists, 200, `Police man fetched successfully`, res);
    }
  } catch (error) {
    ResponseUtil.failure(error.name, error.statusCode, res);
  }
};

       const policemanList = async (req, res, next) => {
  try {
    let list = await PoliceMan.query();

    ResponseUtil.success(
      list,
      200,
      `Police Man List fetched successfully`,
      res
    );
  } catch (error) {
    ResponseUtil.failure(error.name, error.statusCode, res);
  }
};
